

#------------------------------------------------------------------------
#               DES-1210-28/ME Fast Ethernet Switch Configuration
#
#                           Firmware: Build 6.10.E007
#         Copyright(C) 2010 D-Link Corporation. All rights reserved.
#------------------------------------------------------------------------

command-start

# User Account
create account admin dlink 
*@&cjXKrw0kWTZbbNSFU8lKq7jIqJvnWOuw
*@&cjXKrw0kWTZbbNSFU8lKq7jIqJvnWOuw
enable password encryption


# Basic
config snmp system_name "<THREAD-NUM>"
config snmp system_location "<ADDRESS>"
config snmp system_contact "<SNMP_CONTACT>"
config syslogintimeout 5
config sysgroupinterval 0
enable web 80
disable web
enable clipaging
config command_prompt default
config serial_port baud_rate 9600
config serial_port auto_logout 10_minutes

# Gratuitous Arp
config gratuitous_arp send ipif_status_up disable
config gratuitous_arp send dup_ip_detected disable
config gratuitous_arp learning disable
config gratuitous_arp send periodically interval 300

# Arp Aging Time
config arp_aging time 2

# FDB Aging Time
config fdb aging_time 300

# Telnet Setting
enable telnet 23

# Vlan
disable asymmetric_vlan
config vlan default delete 1-28
config vlan default add untagged 25-28 advertisement disable
<CONF_VLAN>
config ipif System vlan <MGMT_VLAN>
enable pvid auto_assign

# Multicast Filter
config multicast filter <PPPOE_PORTS> filter
config multicast filter <BACKBON_PORTS> forward

# IP
config ipif System state enable
config ipif System ipaddress <MGMT_IP>/<MGMT_LONG_MASK>
enable jumbo_frame
config ipif System dhcp_option12 state disable
config ipif System dhcp_option12 hostname <ID>
config ipif System dhcpv6_client disable
config ipv6 nd ns ipif System retrans_time 1 
disable ipif_ipv6_link_local_auto System
config ipif System ipv6 state enable
disable autoconfig
config autoconfig timeout 50
disable autoimage

# Static Route
create iproute default <GW> 1 

# STP
enable stp
config stp version rstp
config stp priority <STP_PRIORITY> instance_id 0
config stp txholdcount 6 maxage 20 hellotime 2 forwarddelay 15 maxhops 20
config stp nni_bpdu_addr dot1d
config stp fbpdu enable
config stp ports <NOT_BACKBON_PORTS> externalcost auto edge true restricted_tcn true restricted_role true p2p auto state disable priority 128 fbpdu disable
config stp ports <BACKBON_PORTS> externalcost auto edge false restricted_tcn false restricted_role false p2p auto state enable priority 128 fbpdu enable
config stp mst_config_id name <THREAD-NUM> revision_level 0
config stp trap new_root disable
config stp trap topo_change disable

# traffic segmentation
<CFG_TRAF_SEGMENTATION>

# LLDP
enable lldp
config lldp message_tx_hold_multiplier 4
config lldp message_tx_interval 30
config lldp reinit_delay 2
config lldp tx_delay 2
config lldp ports 1-28 mgt_addr ipv4 <MGMT_IP> enable
config lldp ports <NOT_BACKBON_PORTS> admin_status rx_only
config lldp ports 1-28 notification disable
config lldp ports 1-28 basic_tlvs port_description system_name system_description system_capabilities enable
config lldp ports 1-28 dot1_tlv_pvid enable
config lldp ports 1-28 dot1_tlv_vlan_name vlanid 1-4094 enable
config lldp ports <BACKBON_PORTS> admin_status tx_and_rx
config lldp ports 1-28 dot1_tlv_protocol_identity eapol enable
config lldp ports 1-28 dot1_tlv_protocol_identity lacp enable
config lldp ports 1-28 dot1_tlv_protocol_identity gvrp enable
config lldp ports 1-28 dot1_tlv_protocol_identity stp enable
config lldp ports 1-28 dot3_tlvs mac_phy_configuration_status link_aggregation maximum_frame_size enable

# QoS
config scheduling_mechanism strict
config scheduling 0 weight 1
config scheduling 1 weight 2
config scheduling 2 weight 4
config scheduling 3 weight 8
config 802.1p default_priority 1-28 0
config 802.1p user_priority 0 0
config 802.1p user_priority 1 0
config 802.1p user_priority 2 1
config 802.1p user_priority 3 1
config 802.1p user_priority 4 2
config 802.1p user_priority 5 3
config 802.1p user_priority 6 3
config 802.1p user_priority 7 3
config dscp_mapping dscp_value 0 class 0
config dscp_mapping dscp_value 1 class 0
config dscp_mapping dscp_value 2 class 0
config dscp_mapping dscp_value 3 class 0
config dscp_mapping dscp_value 4 class 0
config dscp_mapping dscp_value 5 class 0
config dscp_mapping dscp_value 6 class 0
config dscp_mapping dscp_value 7 class 0
config dscp_mapping dscp_value 8 class 0
config dscp_mapping dscp_value 9 class 0
config dscp_mapping dscp_value 10 class 0
config dscp_mapping dscp_value 11 class 0
config dscp_mapping dscp_value 12 class 0
config dscp_mapping dscp_value 13 class 0
config dscp_mapping dscp_value 14 class 0
config dscp_mapping dscp_value 15 class 0
config dscp_mapping dscp_value 16 class 0
config dscp_mapping dscp_value 17 class 0
config dscp_mapping dscp_value 18 class 0
config dscp_mapping dscp_value 19 class 0
config dscp_mapping dscp_value 20 class 0
config dscp_mapping dscp_value 21 class 0
config dscp_mapping dscp_value 22 class 0
config dscp_mapping dscp_value 23 class 0
config dscp_mapping dscp_value 24 class 0
config dscp_mapping dscp_value 25 class 0
config dscp_mapping dscp_value 26 class 0
config dscp_mapping dscp_value 27 class 0
config dscp_mapping dscp_value 28 class 0
config dscp_mapping dscp_value 29 class 0
config dscp_mapping dscp_value 30 class 0
config dscp_mapping dscp_value 31 class 0
config dscp_mapping dscp_value 32 class 0
config dscp_mapping dscp_value 33 class 0
config dscp_mapping dscp_value 34 class 0
config dscp_mapping dscp_value 35 class 0
config dscp_mapping dscp_value 36 class 0
config dscp_mapping dscp_value 37 class 0
config dscp_mapping dscp_value 38 class 0
config dscp_mapping dscp_value 39 class 0
config dscp_mapping dscp_value 40 class 0
config dscp_mapping dscp_value 41 class 0
config dscp_mapping dscp_value 42 class 0
config dscp_mapping dscp_value 43 class 0
config dscp_mapping dscp_value 44 class 0
config dscp_mapping dscp_value 45 class 0
config dscp_mapping dscp_value 46 class 0
config dscp_mapping dscp_value 47 class 0
config dscp_mapping dscp_value 48 class 0
config dscp_mapping dscp_value 49 class 0
config dscp_mapping dscp_value 50 class 0
config dscp_mapping dscp_value 51 class 0
config dscp_mapping dscp_value 52 class 0
config dscp_mapping dscp_value 53 class 0
config dscp_mapping dscp_value 54 class 0
config dscp_mapping dscp_value 55 class 0
config dscp_mapping dscp_value 56 class 0
config dscp_mapping dscp_value 57 class 0
config dscp_mapping dscp_value 58 class 0
config dscp_mapping dscp_value 59 class 0
config dscp_mapping dscp_value 60 class 0
config dscp_mapping dscp_value 61 class 0
config dscp_mapping dscp_value 62 class 0
config dscp_mapping dscp_value 63 class 0
config cos mapping port 1-28 none
config cos mapping port 1-28 802.1p
config cos mapping port 1-28 dscp
config mgmt_pkt_priority 7
config cos tos value 0 class 0
config cos tos value 1 class 0
config cos tos value 2 class 0
config cos tos value 3 class 0
config cos tos value 4 class 0
config cos tos value 5 class 0
config cos tos value 6 class 0
config cos tos value 7 class 0
config dscp mode
config bandwidth_control 1-28 rx_rate no_limit tx_rate no_limit

# Syslog
enable syslog
config log_save_timing on_demand
create syslog host 1 ipaddress <EQM_IP> severity all facility local0 udp_port 514 state enable
create syslog host 2 ipaddress <ADMIN-PROXY_IP> severity all facility local0 udp_port 514 state enable

# ACL
create access_profile ethernet destination_mac ffffffffffff  profile_id 5
create access_profile ethernet source_mac ffffff000000  ethernet_type profile_id 10
create access_profile ip udp dst_port_mask 0xffff profile_id 15
create access_profile ip source_ip_mask 255.255.255.0 profile_id 16
create access_profile ethernet ethernet_type profile_id 20
create access_profile ethernet destination_mac ffffffffffff  profile_id 35
create access_profile ethernet source_mac 000000000000  profile_id 40
config access_profile profile_id 5 add access_id 1 ethernet destination_mac 01-00-0C-CC-CC-CD mask FF-FF-FF-FF-FF-FF port 1-28 deny
config access_profile profile_id 5 add access_id 2 ethernet destination_mac 01-00-0C-CC-CC-CC mask FF-FF-FF-FF-FF-FF port 1-28 deny
config access_profile profile_id 10 add access_id 1 ethernet source_mac 00-90-8F-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 2 ethernet source_mac 00-0E-08-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 3 ethernet source_mac 00-02-A4-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 4 ethernet source_mac C4-0A-CB-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 5 ethernet source_mac C4-64-13-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 6 ethernet source_mac 30-E4-DB-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 7 ethernet source_mac 88-75-56-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 8 ethernet source_mac 64-9E-F3-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 9 ethernet source_mac 54-78-1A-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 20 add access_id 1 ethernet ethernet_type 0x8863 port 1-28 permit
config access_profile profile_id 20 add access_id 2 ethernet ethernet_type 0x8864 port 1-28 permit
config access_profile profile_id 20 add access_id 3 ethernet ethernet_type 0x9000 port 1-28 permit
config access_profile profile_id 20 add access_id 4 ethernet ethernet_type 0x0806 port 1-28 permit
config access_profile profile_id 20 add access_id 5 ethernet ethernet_type 0x888e port 1-28 deny
config access_profile profile_id 35 add access_id 1 ethernet destination_mac 01-80-C2-00-00-00 mask FF-FF-FF-FF-FF-FF port 1-28 permit
config access_profile profile_id 40 add access_id 1 ethernet source_mac 00-00-00-00-00-00 mask 00-00-00-00-00-00 port <IP_PORTS> permit
config access_profile profile_id 40 add access_id 2 ethernet source_mac 00-00-00-00-00-00 mask 00-00-00-00-00-00 port 1-28 deny
config access_profile profile_id 15 add access_id 1 ip udp dst_port 67 dst_port_mask 0xffff port 1-28 permit
config access_profile profile_id 16 add access_id 1 ip source_ip 10.71.255.0 source_ip_mask 255.255.255.0 port 1-28 permit
config access_profile profile_id 16 add access_id 2 ip source_ip 10.71.251.0 source_ip_mask 255.255.255.0 port 1-28 permit
enable cpu_interface_filtering

# SNMP
enable snmp
disable community_encryption
create snmp user ReadOnly ReadOnly v1
create snmp user ReadOnly ReadOnly v2c
create snmp user ReadWrite ReadWrite v1
create snmp user ReadWrite ReadWrite v2c
create snmp group ReadOnly v1 read_view ReadWrite notify_view ReadWrite
create snmp group ReadOnly v2c read_view ReadWrite notify_view ReadWrite
create snmp group ReadWrite v1 read_view ReadWrite write_view ReadWrite notify_view ReadWrite
create snmp group ReadWrite v2c read_view ReadWrite write_view ReadWrite notify_view ReadWrite
create snmp view ReadWrite 1 1 view_type included
create snmp community <SNMP_RW_COMMUNITY> ReadWrite
create snmp host <EQM_IP> v2c <SNMP_RW_COMMUNITY>
enable snmp authenticate_traps
config snmp coldstart_traps enable
config snmp warmstart_traps enable
enable snmp linkchange_traps
config snmp linkchange_traps ports 1-28 enable
disable snmp Login_Logout traps
enable snmp rstpport_state_change traps
enable snmp firmware_upgrade_state traps
enable snmp port_security_violation traps
enable snmp IMPB_violation traps
enable snmp LBD traps
enable snmp DHCP_screening traps
enable snmp duplicate_IP_detected traps
disable snmp DHCPv6_screening traps
disable snmp ICMPv6_RA_all_node traps
disable snmp DULD traps

# IPv6 Neighbor_cache

# MAC address table notification
enable mac_notification
config mac_notification interval 1
config mac_notification historysize 1
config mac_notification ports <NOT_BACKBON_PORTS> enable
config mac_notification ports <BACKBON_PORTS> disable

# SNTP
config sntp primary <NS4_IP> secondary <NS2_IP> poll-interval 720
enable sntp
config time_zone operator + hour <TIME_ZONE> minute 0
config dst disable

# DHCP_RELAY
disable dhcp_relay
disable dhcpv6_relay

# GVRP
disable gvrp

# Loopback Detection
enable loopdetect
config loopdetect mode portbase
config loopdetect interval_time 1
config loopdetect lbd_recover_time 0
config loopdetect port all state disable
config loopdetect port <CLIENTS_PORTS> state enable

# BPDU Attack Protection
disable bpdu_protection

# SMTP
disable smtp

# traffic control
config traffic trap none
config traffic control <NOT_BACKBON_PORTS> broadcast enable multicast enable unicast disable action shutdown threshold 64 time_interval 5 countdown 5
config traffic control <BACKBON_PORTS> broadcast disable multicast disable unicast disable action drop
config traffic control auto_recover_time 0

# RMON
disable rmon

# ISM vlan
enable igmp_snooping multicast_vlan
create igmp_snooping multicast_vlan iptv  4024
config igmp_snooping multicast_vlan iptv  add member_port <PPPOE_PORTS>
config igmp_snooping multicast_vlan iptv  add source_port <BACKBON_PORTS>
config igmp_snooping multicast_vlan iptv  state enable
config igmp_snooping multicast_vlan iptv  replace_source_ip 192.168.10.1
config mld_snooping multicast_vlan iptv  replace_source_ipv6 none
config igmp_snooping multicast_vlan iptv  remap_priority none
config igmp_snooping multicast_vlan iptv  source_port_dynamical_learn state disable
config igmp_snooping multicast_vlan iptv  replace_cvid none
config igmp_snooping multicast_vlan_group iptv  add ipv4_range 225.0.0.1 225.0.5.254
config igmp_snooping multicast_vlan_group iptv  add ipv4_range 225.0.55.0 225.0.59.255

# IGMP snooping
enable igmp_snooping
config igmp_snooping all router_timeout 260
config igmp_snooping all host_timeout 260
config igmp_snooping data_driven_learning max_learned_entry 256
disable igmp_snooping forward_mcrouter_only
config igmp_snooping vlanid 4024 proxy_reporting state disable
config igmp_snooping vlanid 4024 proxy_reporting source_ip 0.0.0.0
config igmp_snooping vlanid 4024 state enable fast_leave disable report_suppression enable
config igmp_snooping data_driven_learning vlanid 4024 state disable
config igmp_snooping data_driven_learning vlanid 4024 aged_out enable
config igmp_snooping querier vlanid 4024 state disable querier_version 2 last_member_query_interval 1 max_response_time 10 query_interval 125 robustness_variable 2
config router_ports vlan_name iptv  add <BACKBON_PORTS>
config router_ports_forbidden vlan_name iptv  add <PPPOE_PORTS>
config igmp access_authentication ports 1-28 state disable

# MLD Snooping
disable mld_snooping
disable mld_snooping forward_mcrouter_only

# 8021X
disable 802.1x

# port mirroring

# trusted host
enable trusted_host
create trusted_host network 10.2.1.0/255.255.255.0
create trusted_host network <GW>/255.255.255.255
create trusted_host network <ADMIN-PROXY_IP>/255.255.255.255
create trusted_host network <EQM_IP>/255.255.255.255
create trusted_host network 212.33.232.102/255.255.255.255
create trusted_host network 212.33.232.121/255.255.255.255
create trusted_host network 212.33.233.40/255.255.255.248

# SSL
disable ssl ciphersuite RSA-NULL-MD5 RSA-NULL-SHA1 RSA-DES-SHA1 RSA-3DES-SHA1 DH-RSA-DES-SHA1 DH-RSA-3DES-SHA1 RSA-EXP1024-DES-SHA1

# SSH
enable ssh
config ssh server authfail 2
config ssh server rekey 60min
config ssh server maxsession 1
config ssh server contimeout 120
config ssh authmode password disable
config ssh authmode publickey disable
config ssh authmode hostbased disable
config ssh algorithm 3DES enable
config ssh algorithm MD5 enable
config ssh algorithm SHA1 enable
config ssh algorithm RSA enable

# access authentication control
enable authen_policy
disable aaa_server_password_encryption
config authen parameter response_timeout 180
config authen parameter attempt 3
create authen server_host <RADIUS1_IP> protocol radius port <radius_port> key <radius_key> timeout 5 retransmit 2 acct_port <acct_port>
create authen server_host <RADIUS2_IP> protocol radius port <radius_port> key <radius_key> timeout 5 retransmit 2 acct_port <acct_port>
create authen server_group tacacs+
create authen server_group radius
config authen server_group radius add server_host <RADIUS1_IP> protocol radius
config authen server_group radius add server_host <RADIUS2_IP> protocol radius
create authen_login method_list_name default
config authen_login default method local    
create authen_login method_list_name RAD_LOCAL
config authen_login method_list_name RAD_LOCAL method radius local   
create authen_enable method_list_name default
config authen_enable default method none    
config authen application console login method_list_name default
config authen application telnet login method_list_name RAD_LOCAL
config authen application ssh login method_list_name RAD_LOCAL
config authen application http login method_list_name RAD_LOCAL
config authen application console enable method_list_name default
config authen application telnet enable method_list_name default
config authen application ssh enable method_list_name default
config authen application http enable method_list_name default
config admin local_enable *@&ufIvGYtdcuZbQHe21ZsWzgyasvKCxeN1

# PPPoE
config pppoe circuit_id_insertion state disable
config pppoe circuit_id_insertion ports 1-28 circuit_id ip state disable
config pppoe circuit_id_insertion ports 1-28 remote_id default

# safeguard_engine
config safeguard_engine state disable
disable command logging

# Discover Trap setting
disable vlan_trunk

# Ethernet OAM
config ethernet_oam ports 1-28 state disable mode active remote_loopback stop received_remote_loopback ignore
config ethernet_oam ports 1-28 critical_link_event dying_gasp notify_state enable
config ethernet_oam ports 1-28 critical_link_event critical_event notify_state enable
config ethernet_oam ports 1-28 link_monitor error_symbol threshold 1 window 1000 notify_state enable
config ethernet_oam ports 1-28 link_monitor error_frame threshold 1 window 1000 notify_state enable
config ethernet_oam ports 1-28 link_monitor error_frame_seconds threshold 1 window 60000 notify_state enable
config ethernet_oam ports 1-24 link_monitor error_frame_period threshold 1 window 148810 notify_state enable
config ethernet_oam ports 25-28 link_monitor error_frame_period threshold 1 window 1488100 notify_state enable

# DULD
config duld ports 1-28 state disable mode normal discovery_time 5
config duld recover_timer 60

# port security
config port_security 1-28 admin_state disable max_learning_addr 0 lock_address_mode DeleteOnTimeout 

# port
config ports 1-24 speed auto state enable flow_control disable mdix auto learning enable
config ports 25-26 medium_type copper speed auto state enable flow_control disable mdix auto learning enable 
config ports 25-26 medium_type fiber speed auto state enable flow_control disable learning enable 
config ports 27-28 speed auto state enable flow_control disable learning enable 
config ports 1-24 capability_advertised 10_half 10_full 100_half 100_full 
config ports 25-28 capability_advertised 10_half 10_full 100_half 100_full 1000_full 
<PORTS_DESCRIPTION>

# LACP
config link_aggregation state disable
config link_aggregation algorithm mac_source
config lacp port_priority 1-28 128 timeout long
config lacp_ports 1-28 mode active

# Limited IP Multicast
create mcast_filter_profile ipv4 profile_id 1 profile_name service
create mcast_filter_profile ipv4 profile_id 2 profile_name streaming
config mcast_filter_profile profile_id 1 add 224.0.0.2 224.0.0.2
config mcast_filter_profile profile_id 2 add 225.0.0.1 225.0.5.254
config mcast_filter_profile profile_id 2 add 225.0.55.0 225.0.59.255
config limited_multicast_addr ports 1-24 ipv4 add profile_id 1
config limited_multicast_addr ports 1-24 ipv4 add profile_id 2
config limited_multicast_addr ports 1-28 ipv4 access permit
config limited_multicast_addr ports 1-28 ipv6 access deny
config max_mcast_group ports <PPPOE_PORTS> ipv4 max_group 15 action drop
config max_mcast_group ports <BACKBON_PORTS> ipv4 max_group 256 action drop
config max_mcast_group ports 1-28 ipv6 max_group 1 action drop

# DoS Prevention
config dos_prevention dos_type land_attack action drop state disable
config dos_prevention dos_type blat_attack action drop state disable
config dos_prevention dos_type smurf_attack action drop state disable
config dos_prevention dos_type tcp_null_scan action drop state disable
config dos_prevention dos_type tcp_xmascan action drop state disable
config dos_prevention dos_type tcp_synfin action drop state disable
config dos_prevention dos_type tcp_syn_srcport_less_1024 action drop state disable
disable dos_prevention trap_log

# DDM
config ddm power_unit mw
config ddm ports 25-28 state disable
config ddm ports 25-28 shutdown none
config ddm ports 25-28 temperature_threshold high_alarm +95.000 low_alarm -25.000 high_warning +90.000 low_warning -20.000
config ddm ports 25-28 voltage_threshold high_alarm 3.80 low_alarm 2.80 high_warning 3.70 low_warning 2.90
config ddm ports 25-28 bias_current_threshold high_alarm 20.0 low_alarm 0.5 high_warning 18.0 low_warning 1.0
config ddm ports 25-28 tx_power_threshold high_alarm 1.5900 low_alarm 0.1599 high_warning 1.2599 low_warning 0.2000
config ddm ports 25-28 rx_power_threshold high_alarm 1.2599 low_alarm 0.0099 high_warning 1.0000 low_warning 0.0126

# Flood FDB
disable flood_fdb
config flood_fdb log enable trap enable

# L2 Protocol Tunnel
disable l2protocol_tunnel

# Accounting
create accounting method_list_name default
config accounting default method none    
config accounting service network state disable 
config accounting service shell state disable 
config accounting service system state disable 
config accounting service command administrator none 
config accounting service command operator none 
config accounting service command power_user none 
config accounting service command user none 
command-end

TEST
sement disable
config vlan 1356 add tagged 25-28 advertisement disable
config vlan 1357 add tagged 25-28 advertisement disable
config vlan 1358 add tagged 25-28 advertisement disable
config vlan 1359 add tagged 25-28 advertisement disable
config vlan 1360 add tagged 25-28 advertisement disable
config vlan 1361 add tagged 25-28 advertisement disable
config vlan 1362 add tagged 25-28 advertisement disable
config vlan 1363 add tagged 25-28 advertisement disable
config vlan 1364 add tagged 25-28 advertisement disable
config vlan 1365 add tagged 25-28 advertisement disable
config vlan 1366 add tagged 25-28 advertisement disable
config vlan 1367 add tagged 25-28 advertisement disable
config vlan 1368 add tagged 25-28 advertisement disable
config vlan 1369 add tagged 25-28 advertisement disable
config vlan 1370 add tagged 25-28 advertisement disable
config vlan 1371 add tagged 25-28 advertisement disable
config vlan 1372 add tagged 25-28 advertisement disable
config vlan 1373 add tagged 25-28 advertisement disable
config vlan 1374 add tagged 25-28 advertisement disable
config vlan 1375 add tagged 25-28 advertisement disable
config vlan 1401 add tagged 25-28 advertisement disable
config vlan 1402 add tagged 25-28 advertisement disable
config vlan 1403 add tagged 25-28 advertisement disable
config vlan 1404 add tagged 25-28 advertisement disable
config vlan 1405 add tagged 25-28 advertisement disable
config vlan 1406 add tagged 25-28 advertisement disable
config vlan 1407 add tagged 25-28 advertisement disable
config vlan 1408 add tagged 25-28 advertisement disable
config vlan 1409 add tagged 25-28 advertisement disable
config vlan 1410 add tagged 25-28 advertisement disable
config vlan 1411 add tagged 25-28 advertisement disable
config vlan 1412 add tagged 25-28 advertisement disable
config vlan 1413 add tagged 25-28 advertisement disable
config vlan 1414 add tagged 25-28 advertisement disable
config vlan 1415 add tagged 25-28 advertisement disable
config vlan 1416 add tagged 25-28 advertisement disable
config vlan 1417 add tagged 25-28 advertisement disable
config vlan 1418 add tagged 25-28 advertisement disable
config vlan 1419 add tagged 25-28 advertisement disable
config vlan 1420 add tagged 25-28 advertisement disable
config vlan 1421 add tagged 25-28 advertisement disable
config vlan 1422 add tagged 25-28 advertisement disable
config vlan 1423 add tagged 25-28 advertisement disable
config vlan 1424 add tagged 25-28 advertisement disable
config vlan 1425 add tagged 25-28 advertisement disable
config vlan 1451 add tagged 25-28 advertisement disable
config vlan 1452 add tagged 25-28 advertisement disable
config vlan 1453 add tagged 25-28 advertisement disable
config vlan 1454 add tagged 25-28 advertisement disable
config vlan 1455 add tagged 25-28 advertisement disable
config vlan 1456 add tagged 25-28 advertisement disable
config vlan 1457 add tagged 25-28 advertisement disable
config vlan 1458 add tagged 25-28 advertisement disable
config vlan 1459 add tagged 25-28 advertisement disable
config vlan 1460 add tagged 25-28 advertisement disable
config vlan 1461 add tagged 25-28 advertisement disable
config vlan 1462 add tagged 25-28 advertisement disable
config vlan 1463 add tagged 25-28 advertisement disable
config vlan 1464 add tagged 25-28 advertisement disable
config vlan 1465 add tagged 25-28 advertisement disable
config vlan 1466 add tagged 25-28 advertisement disable
config vlan 1467 add tagged 25-28 advertisement disable
config vlan 1468 add tagged 25-28 advertisement disable
config vlan 1469 add tagged 25-28 advertisement disable
config vlan 1470 add tagged 25-28 advertisement disable
config vlan 1471 add tagged 25-28 advertisement disable
config vlan 1472 add tagged 25-28 advertisement disable
config vlan 1473 add tagged 25-28 advertisement disable
config vlan 1474 add tagged 25-28 advertisement disable
config vlan 1475 add tagged 25-28 advertisement disable
config vlan 1501 add tagged 25-28 advertisement disable
config vlan 1502 add tagged 25-28 advertisement disable
config vlan 1503 add tagged 25-28 advertisement disable
config vlan 1504 add tagged 25-28 advertisement disable
config vlan 1505 add tagged 25-28 advertisement disable
config vlan 1506 add tagged 25-28 advertisement disable
config vlan 1507 add tagged 25-28 advertisement disable
config vlan 1508 add tagged 25-28 advertisement disable
config vlan 1509 add tagged 25-28 advertisement disable
config vlan 1510 add tagged 25-28 advertisement disable
config vlan 1511 add tagged 25-28 advertisement disable
config vlan 1512 add tagged 25-28 advertisement disable
config vlan 1513 add tagged 25-28 advertisement disable
config vlan 1514 add tagged 25-28 advertisement disable
config vlan 1515 add tagged 25-28 advertisement disable
config vlan 1516 add tagged 25-28 advertisement disable
config vlan 1517 add tagged 25-28 advertisement disable
config vlan 1518 add tagged 25-28 advertisement disable
config vlan 1519 add tagged 25-28 advertisement disable
config vlan 1520 add tagged 25-28 advertisement disable
config vlan 1521 add tagged 25-28 advertisement disable
config vlan 1522 add tagged 25-28 advertisement disable
config vlan 1523 add tagged 25-28 advertisement disable
config vlan 1524 add tagged 25-28 advertisement disable
config vlan 1525 add tagged 25-28 advertisement disable
config vlan 1551 add tagged 25-28 advertisement disable
config vlan 1552 add tagged 25-28 advertisement disable
config vlan 1553 add tagged 25-28 advertisement disable
config vlan 1554 add tagged 25-28 advertisement disable
config vlan 1555 add tagged 25-28 advertisement disable
config vlan 1556 add tagged 25-28 advertisement disable
config vlan 1557 add tagged 25-28 advertisement disable
config vlan 1558 add tagged 25-28 advertisement disable
config vlan 1559 add tagged 25-28 advertisement disable
config vlan 1560 add tagged 25-28 advertisement disable
config vlan 1561 add tagged 25-28 advertisement disable
config vlan 1562 add tagged 25-28 advertisement disable
config vlan 1563 add tagged 25-28 advertisement disable
config vlan 1564 add tagged 25-28 advertisement disable
config vlan 1565 add tagged 25-28 advertisement disable
config vlan 1566 add tagged 25-28 advertisement disable
config vlan 1567 add tagged 25-28 advertisement disable
config vlan 1568 add tagged 25-28 advertisement disable
config vlan 1569 add tagged 25-28 advertisement disable
config vlan 1570 add tagged 25-28 advertisement disable
config vlan 1571 add tagged 25-28 advertisement disable
config vlan 1572 add tagged 25-28 advertisement disable
config vlan 1573 add tagged 25-28 advertisement disable
config vlan 1574 add tagged 25-28 advertisement disable
config vlan 1575 add tagged 25-28 advertisement disable
config vlan 1601 add tagged 25-28 advertisement disable
config vlan 1602 add tagged 25-28 advertisement disable
config vlan 1603 add tagged 25-28 advertisement disable
config vlan 1604 add tagged 25-28 advertisement disable
config vlan 1605 add tagged 25-28 advertisement disable
config vlan 1606 add tagged 25-28 advertisement disable
config vlan 1607 add tagged 25-28 advertisement disable
config vlan 1608 add tagged 25-28 advertisement disable
config vlan 1609 add tagged 25-28 advertisement disable
config vlan 1610 add tagged 25-28 advertisement disable
config vlan 1611 add tagged 25-28 advertisement disable
config vlan 1612 add tagged 25-28 advertisement disable
config vlan 1613 add tagged 25-28 advertisement disable
config vlan 1614 add tagged 25-28 advertisement disable
config vlan 1615 add tagged 25-28 advertisement disable
config vlan 1616 add tagged 25-28 advertisement disable
config vlan 1617 add tagged 25-28 advertisement disable
config vlan 1618 add tagged 25-28 advertisement disable
config vlan 1619 add tagged 25-28 advertisement disable
config vlan 1620 add tagged 25-28 advertisement disable
config vlan 1621 add tagged 25-28 advertisement disable
config vlan 1622 add tagged 25-28 advertisement disable
config vlan 1623 add tagged 25-28 advertisement disable
config vlan 1624 add tagged 25-28 advertisement disable
config vlan 1625 add tagged 25-28 advertisement disable
config vlan 3701 add tagged 25-28 advertisement disable
config vlan 3702 add tagged 25-28 advertisement disable
config vlan 3703 add tagged 25-28 advertisement disable
config vlan 3704 add tagged 25-28 advertisement disable
config vlan 3705 add tagged 25-28 advertisement disable
config vlan 3706 add tagged 25-28 advertisement disable
config vlan 3707 add tagged 25-28 advertisement disable
config vlan 3708 add tagged 25-28 advertisement disable
config vlan 3709 add tagged 25-28 advertisement disable
config vlan 3710 add tagged 25-28 advertisement disable
config vlan 3711 add tagged 25-28 advertisement disable
config vlan 3712 add tagged 25-28 advertisement disable
config vlan 3713 add tagged 25-28 advertisement disable
config ipif System vlan 99
enable pvid auto_assign

# Multicast Filter
config multicast filter 1-24 filter
config multicast filter 25-28 forward

# IMPBv2
disable address_binding dhcp_snoop ports 1-28 all
config address_binding ip_mac ports 1-28 arp_inspection disable nd_inspection disable ip_inspection disable protocol all state disable allow_zeroip disable forward_dhcppkt enable
config address_binding dhcp_snoop max_entry ports 1-28 limit no_limit
config address_binding dhcp_snoop max_entry ports 1-28 limit no_limit IPv6
disable address_binding roaming
config address_binding vlan_checking state disable
config address_binding ip_mac log all
disable address_binding dhcp_pd_snoop
disable address_binding trap_log
config filter dhcp_server ports 1-28 state disable
config filter dhcp_server vlanid 1-4094 state disable
config filter dhcp_server illegal_server_log_suppress_duration 5min
config filter dhcp_server log state enable
config filter dhcpv6_server ports 1-28 state disable
config filter dhcpv6_server log state enable
config filter icmpv6_ra_all_node ports 1-28 state disable
config filter icmpv6_ra_all_node log state enable

# IP
config ipif System state enable
config ipif System ipaddress 10.225.208.54/255.255.255.240
enable jumbo_frame
config ipif System dhcp_option12 state disable
config ipif System dhcp_option12 hostname DES-1210-28/ME
config ipif System dhcpv6_client disable
config ipv6 nd ns ipif System retrans_time 1 
disable ipif_ipv6_link_local_auto System
config ipif System ipv6 state enable
disable autoconfig
config autoconfig timeout 50
disable autoimage

# Static Route
create iproute default 10.225.208.62 1 

# QinQ
disable qinq
config qinq ports 1-28 role uni outer_tpid 0x8100 trust_cvid disable vlan_translation disable

# STP
enable stp
config stp version rstp
config stp priority 32768 instance_id 0
config stp txholdcount 6 maxage 20 hellotime 2 forwarddelay 15 maxhops 20
config stp nni_bpdu_addr dot1d
config stp fbpdu enable
config stp ports 1-24 externalcost auto edge true restricted_tcn true restricted_role true p2p auto state enable priority 128 fbpdu disable
config stp ports 25-28 externalcost auto edge false restricted_tcn false restricted_role false p2p auto state enable priority 128 fbpdu enable
config stp mst_config_id name ppk-1311-4 revision_level 0
config stp mst_ports 1 instance_id 0 internalCost auto priority 128
config stp mst_ports 2 instance_id 0 internalCost auto priority 128
config stp mst_ports 3 instance_id 0 internalCost auto priority 128
config stp mst_ports 4 instance_id 0 internalCost auto priority 128
config stp mst_ports 5 instance_id 0 internalCost auto priority 128
config stp mst_ports 6 instance_id 0 internalCost auto priority 128
config stp mst_ports 7 instance_id 0 internalCost auto priority 128
config stp mst_ports 8 instance_id 0 internalCost auto priority 128
config stp mst_ports 9 instance_id 0 internalCost auto priority 128
config stp mst_ports 10 instance_id 0 internalCost auto priority 128
config stp mst_ports 11 instance_id 0 internalCost auto priority 128
config stp mst_ports 12 instance_id 0 internalCost auto priority 128
config stp mst_ports 13 instance_id 0 internalCost auto priority 128
config stp mst_ports 14 instance_id 0 internalCost auto priority 128
config stp mst_ports 15 instance_id 0 internalCost auto priority 128
config stp mst_ports 16 instance_id 0 internalCost auto priority 128
config stp mst_ports 17 instance_id 0 internalCost auto priority 128
config stp mst_ports 18 instance_id 0 internalCost auto priority 128
config stp mst_ports 19 instance_id 0 internalCost auto priority 128
config stp mst_ports 20 instance_id 0 internalCost auto priority 128
config stp mst_ports 21 instance_id 0 internalCost auto priority 128
config stp mst_ports 22 instance_id 0 internalCost auto priority 128
config stp mst_ports 23 instance_id 0 internalCost auto priority 128
config stp mst_ports 24 instance_id 0 internalCost auto priority 128
config stp mst_ports 25 instance_id 0 internalCost auto priority 128
config stp mst_ports 26 instance_id 0 internalCost auto priority 128
config stp mst_ports 27 instance_id 0 internalCost auto priority 128
config stp mst_ports 28 instance_id 0 internalCost auto priority 128
config stp trap new_root disable
config stp trap topo_change disable

# traffic segmentation
config traffic_segmentation 1-24 forward_list 25-28
config traffic_segmentation 25-28 forward_list 1-28

# LLDP
enable lldp
config lldp message_tx_hold_multiplier 4
config lldp message_tx_interval 30
config lldp reinit_delay 2
config lldp tx_delay 2
config lldp ports 1-28 mgt_addr ipv4 10.225.208.54 enable
config lldp ports 1-24 admin_status rx_only
config lldp ports 1-28 notification disable
config lldp ports 1-28 basic_tlvs port_description system_name system_description system_capabilities enable
config lldp ports 1-28 dot1_tlv_pvid enable
config lldp ports 1-28 dot1_tlv_vlan_name vlanid 1-4094 enable
config lldp ports 25-28 admin_status tx_and_rx
config lldp ports 1-28 dot1_tlv_protocol_identity eapol enable
config lldp ports 1-28 dot1_tlv_protocol_identity lacp enable
config lldp ports 1-28 dot1_tlv_protocol_identity gvrp enable
config lldp ports 1-28 dot1_tlv_protocol_identity stp enable
config lldp ports 1-28 dot3_tlvs mac_phy_configuration_status link_aggregation maximum_frame_size enable

# QoS
config scheduling_mechanism strict
config scheduling 0 weight 1
config scheduling 1 weight 2
config scheduling 2 weight 4
config scheduling 3 weight 8
config 802.1p default_priority 1-28 0
config 802.1p user_priority 0 0
config 802.1p user_priority 1 0
config 802.1p user_priority 2 1
config 802.1p user_priority 3 1
config 802.1p user_priority 4 2
config 802.1p user_priority 5 3
config 802.1p user_priority 6 3
config 802.1p user_priority 7 3
config dscp_mapping dscp_value 0 class 0
config dscp_mapping dscp_value 1 class 0
config dscp_mapping dscp_value 2 class 0
config dscp_mapping dscp_value 3 class 0
config dscp_mapping dscp_value 4 class 0
config dscp_mapping dscp_value 5 class 0
config dscp_mapping dscp_value 6 class 0
config dscp_mapping dscp_value 7 class 0
config dscp_mapping dscp_value 8 class 0
config dscp_mapping dscp_value 9 class 0
config dscp_mapping dscp_value 10 class 0
config dscp_mapping dscp_value 11 class 0
config dscp_mapping dscp_value 12 class 0
config dscp_mapping dscp_value 13 class 0
config dscp_mapping dscp_value 14 class 0
config dscp_mapping dscp_value 15 class 0
config dscp_mapping dscp_value 16 class 0
config dscp_mapping dscp_value 17 class 0
config dscp_mapping dscp_value 18 class 0
config dscp_mapping dscp_value 19 class 0
config dscp_mapping dscp_value 20 class 0
config dscp_mapping dscp_value 21 class 0
config dscp_mapping dscp_value 22 class 0
config dscp_mapping dscp_value 23 class 0
config dscp_mapping dscp_value 24 class 0
config dscp_mapping dscp_value 25 class 0
config dscp_mapping dscp_value 26 class 0
config dscp_mapping dscp_value 27 class 0
config dscp_mapping dscp_value 28 class 0
config dscp_mapping dscp_value 29 class 0
config dscp_mapping dscp_value 30 class 0
config dscp_mapping dscp_value 31 class 0
config dscp_mapping dscp_value 32 class 0
config dscp_mapping dscp_value 33 class 0
config dscp_mapping dscp_value 34 class 0
config dscp_mapping dscp_value 35 class 0
config dscp_mapping dscp_value 36 class 0
config dscp_mapping dscp_value 37 class 0
config dscp_mapping dscp_value 38 class 0
config dscp_mapping dscp_value 39 class 0
config dscp_mapping dscp_value 40 class 0
config dscp_mapping dscp_value 41 class 0
config dscp_mapping dscp_value 42 class 0
config dscp_mapping dscp_value 43 class 0
config dscp_mapping dscp_value 44 class 0
config dscp_mapping dscp_value 45 class 0
config dscp_mapping dscp_value 46 class 0
config dscp_mapping dscp_value 47 class 0
config dscp_mapping dscp_value 48 class 0
config dscp_mapping dscp_value 49 class 0
config dscp_mapping dscp_value 50 class 0
config dscp_mapping dscp_value 51 class 0
config dscp_mapping dscp_value 52 class 0
config dscp_mapping dscp_value 53 class 0
config dscp_mapping dscp_value 54 class 0
config dscp_mapping dscp_value 55 class 0
config dscp_mapping dscp_value 56 class 0
config dscp_mapping dscp_value 57 class 0
config dscp_mapping dscp_value 58 class 0
config dscp_mapping dscp_value 59 class 0
config dscp_mapping dscp_value 60 class 0
config dscp_mapping dscp_value 61 class 0
config dscp_mapping dscp_value 62 class 0
config dscp_mapping dscp_value 63 class 0
config cos mapping port 1-28 none
config cos mapping port 1-28 802.1p
config cos mapping port 1-28 dscp
config mgmt_pkt_priority 7
config cos tos value 0 class 0
config cos tos value 1 class 0
config cos tos value 2 class 0
config cos tos value 3 class 0
config cos tos value 4 class 0
config cos tos value 5 class 0
config cos tos value 6 class 0
config cos tos value 7 class 0
config dscp mode
config bandwidth_control 1-28 rx_rate no_limit tx_rate no_limit

# Syslog
enable syslog
config log_save_timing on_demand
create syslog host 1 ipaddress 109.194.16.25 severity all facility local0 udp_port 514 state enable
create syslog host 2 ipaddress 109.194.16.10 severity all facility local0 udp_port 514 state enable

# ACL
create access_profile ethernet destination_mac ffffffffffff  profile_id 5
create access_profile ethernet source_mac ffffff000000  ethernet_type profile_id 10
create access_profile ip udp dst_port_mask 0xffff profile_id 15
create access_profile ip source_ip_mask 255.255.255.0 profile_id 16
create access_profile ethernet ethernet_type profile_id 20
create access_profile ethernet destination_mac ffffffffffff  profile_id 35
create access_profile ethernet source_mac 000000000000  profile_id 40
config access_profile profile_id 5 add access_id 1 ethernet destination_mac 01-00-0C-CC-CC-CD mask FF-FF-FF-FF-FF-FF port 1-28 deny
config access_profile profile_id 5 add access_id 2 ethernet destination_mac 01-00-0C-CC-CC-CC mask FF-FF-FF-FF-FF-FF port 1-28 deny
config access_profile profile_id 10 add access_id 1 ethernet source_mac 00-90-8F-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 2 ethernet source_mac 00-0E-08-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 3 ethernet source_mac 00-02-A4-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 4 ethernet source_mac C4-0A-CB-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 5 ethernet source_mac C4-64-13-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 6 ethernet source_mac 30-E4-DB-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 7 ethernet source_mac 88-75-56-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 8 ethernet source_mac 64-9E-F3-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 10 add access_id 9 ethernet source_mac 54-78-1A-00-00-00 mask FF-FF-FF-00-00-00 ethernet_type 0x8864 port 1-28 permit replace_priority_with 5
config access_profile profile_id 20 add access_id 1 ethernet ethernet_type 0x8863 port 1-28 permit
config access_profile profile_id 20 add access_id 2 ethernet ethernet_type 0x8864 port 1-28 permit
config access_profile profile_id 20 add access_id 3 ethernet ethernet_type 0x9000 port 1-28 permit
config access_profile profile_id 20 add access_id 4 ethernet ethernet_type 0x0806 port 1-28 permit
config access_profile profile_id 20 add access_id 5 ethernet ethernet_type 0x888e port 1-28 deny
config access_profile profile_id 35 add access_id 1 ethernet destination_mac 01-80-C2-00-00-00 mask FF-FF-FF-FF-FF-FF port 1-28 permit
config access_profile profile_id 40 add access_id 1 ethernet source_mac 00-00-00-00-00-00 mask 00-00-00-00-00-00 port 25-28 permit
config access_profile profile_id 40 add access_id 2 ethernet source_mac 00-00-00-00-00-00 mask 00-00-00-00-00-00 port 1-28 deny
config access_profile profile_id 15 add access_id 1 ip udp dst_port 67 dst_port_mask 0xffff port 1-28 permit
config access_profile profile_id 16 add access_id 1 ip source_ip 10.71.255.0 source_ip_mask 255.255.255.0 port 1-28 permit
config access_profile profile_id 16 add access_id 2 ip source_ip 10.71.251.0 source_ip_mask 255.255.255.0 port 1-28 permit
enable cpu_interface_filtering

# SNMP
enable snmp
disable community_encryption
create snmp user ReadOnly ReadOnly v1
create snmp user ReadOnly ReadOnly v2c
create snmp user ReadWrite ReadWrite v1
create snmp user ReadWrite ReadWrite v2c
create snmp group ReadOnly v1 read_view ReadWrite notify_view ReadWrite
create snmp group ReadOnly v2c read_view ReadWrite notify_view ReadWrite
create snmp group ReadWrite v1 read_view ReadWrite write_view ReadWrite notify_view ReadWrite
create snmp group ReadWrite v2c read_view ReadWrite write_view ReadWrite notify_view ReadWrite
create snmp view ReadWrite 1 1 view_type included
create snmp community rWIrkuz ReadWrite
create snmp host 109.194.16.25 v2c rWIrkuz
config snmp engineID 0022500000000001311423
enable snmp authenticate_traps
config snmp coldstart_traps enable
config snmp warmstart_traps enable
enable snmp linkchange_traps
config snmp linkchange_traps ports 1-28 enable
disable snmp Login_Logout traps
enable snmp rstpport_state_change traps
enable snmp firmware_upgrade_state traps
enable snmp port_security_violation traps
enable snmp IMPB_violation traps
enable snmp LBD traps
enable snmp DHCP_screening traps
enable snmp duplicate_IP_detected traps
disable snmp DHCPv6_screening traps
disable snmp ICMPv6_RA_all_node traps
disable snmp DULD traps

# IPv6 Neighbor_cache

# MAC address table notification
enable mac_notification
config mac_notification interval 1
config mac_notification historysize 1
config mac_notification ports 1-24 enable
config mac_notification ports 25-28 disable

# SNTP
config sntp primary 109.194.17.5 secondary 109.194.16.4 poll-interval 720
enable sntp
config time_zone operator + hour 8 minute 0
config dst repeat s_mth 1 s_week 1 s_day sun s_time 00:00 e_mth 1 e_week 1 e_day sun e_time 00:00 offset 60
config dst annual s_mth 1 s_date 1 s_time 00:00 e_mth 1 e_date 1 e_time 00:00 offset 60
config dst disable

# DHCP_RELAY
disable dhcp_relay
config dhcp_relay hops 4
config dhcp_relay time 0
config dhcp_relay port 1-28 state disable
config dhcp_relay port 1-28 state enable
config dhcp_relay vlan vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 state enable
config dhcp_relay vlan vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 state enable
config dhcp_relay option_82 state enable
config dhcp_relay option_82 check disable
config dhcp_relay option_82 policy replace
config dhcp_relay option_82 remote_id default
config dhcp_relay option_82 circuit_id default
disable dhcp_local_relay
disable dhcpv6_relay
config dhcpv6_relay hop_count 4
config dhcpv6_relay option_37 state enable
config dhcpv6_relay option_37 check enable
config dhcpv6_relay option_37 remote_id default
config dhcpv6_relay option_38 ports 1-28 state disable subscriber_id default

# GVRP
disable gvrp
config gvrp 1 pvid 1251
config gvrp 1-28 state disable
config gvrp 1-28 ingress_checking enable
config gvrp 1-28 acceptable_frame All_Frames
config gvrp 2 pvid 1252
config gvrp 3 pvid 1253
config gvrp 4 pvid 1254
config gvrp 5 pvid 1255
config gvrp 6 pvid 1256
config gvrp 7 pvid 1257
config gvrp 8 pvid 1258
config gvrp 9 pvid 1259
config gvrp 10 pvid 1260
config gvrp 11 pvid 1261
config gvrp 12 pvid 1262
config gvrp 13 pvid 1263
config gvrp 14 pvid 1264
config gvrp 15 pvid 1265
config gvrp 16 pvid 1266
config gvrp 17 pvid 1267
config gvrp 18 pvid 1268
config gvrp 19 pvid 1269
config gvrp 20 pvid 1270
config gvrp 21 pvid 1271
config gvrp 22 pvid 1272
config gvrp 23 pvid 1273
config gvrp 24 pvid 1274
config gvrp 25-28 pvid 1
config gvrp timer join_timer 200
config gvrp timer leave_timer 600
config gvrp timer leave-all_timer 10000

# Loopback Detection
disable loopdetect
config loopdetect mode portbase
config loopdetect interval_time 2
config loopdetect lbd_recover_time 60

# BPDU Attack Protection
disable bpdu_protection
config bpdu_protection recovery_timer 60
config bpdu_protection ports 1-28 state disable mode shutdown 
config bpdu_protection trap none
config bpdu_protection log none

# SMTP
disable smtp
config smtp server 0.0.0.0 server_port 25

# traffic control
config traffic trap none
config traffic control 1-24 broadcast enable multicast enable unicast disable action shutdown threshold 64 time_interval 5 countdown 5
config traffic control 25-28 broadcast disable multicast disable unicast disable action drop
config traffic control auto_recover_time 0

# RMON
disable rmon

# ISM vlan
enable igmp_snooping multicast_vlan
create igmp_snooping multicast_vlan iptv  4024
config igmp_snooping multicast_vlan iptv  add member_port 1-24
config igmp_snooping multicast_vlan iptv  add source_port 25-28
config igmp_snooping multicast_vlan iptv  state enable
config igmp_snooping multicast_vlan iptv  replace_source_ip 192.168.10.1
config mld_snooping multicast_vlan iptv  replace_source_ipv6 none
config igmp_snooping multicast_vlan iptv  remap_priority none
config igmp_snooping multicast_vlan iptv  source_port_dynamical_learn state disable
config igmp_snooping multicast_vlan iptv  replace_cvid none
config igmp_snooping multicast_vlan_group iptv  add ipv4_range 225.0.0.1 225.0.5.254
config igmp_snooping multicast_vlan_group iptv  add ipv4_range 225.0.55.0 225.0.59.255

# IGMP snooping
enable igmp_snooping
config igmp_snooping all router_timeout 260
config igmp_snooping all host_timeout 260
config igmp_snooping data_driven_learning max_learned_entry 256
disable igmp_snooping forward_mcrouter_only
config igmp_snooping vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 state disable fast_leave disable report_suppression enable
config igmp_snooping vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 state disable fast_leave disable report_suppression enable
config igmp_snooping vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 proxy_reporting state disable
config igmp_snooping vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 proxy_reporting state disable
config igmp_snooping vlanid 4024 proxy_reporting state disable
config igmp_snooping vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 proxy_reporting source_ip 0.0.0.0
config igmp_snooping vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 proxy_reporting source_ip 0.0.0.0
config igmp_snooping vlanid 4024 proxy_reporting source_ip 0.0.0.0
config igmp_snooping vlanid 4024 state enable fast_leave disable report_suppression enable
config igmp_snooping data_driven_learning vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 state disable
config igmp_snooping data_driven_learning vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 state disable
config igmp_snooping data_driven_learning vlanid 4024 state disable
config igmp_snooping data_driven_learning vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 aged_out disable
config igmp_snooping data_driven_learning vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 aged_out disable
config igmp_snooping data_driven_learning vlanid 4024 aged_out enable
config igmp_snooping querier vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 state disable querier_version 2 last_member_query_interval 1 max_response_time 10 query_interval 125 robustness_variable 2
config igmp_snooping querier vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 state disable querier_version 2 last_member_query_interval 1 max_response_time 10 query_interval 125 robustness_variable 2
config igmp_snooping querier vlanid 4024 state disable querier_version 2 last_member_query_interval 1 max_response_time 10 query_interval 125 robustness_variable 2
config router_ports vlan_name iptv  add 25-28
config router_ports_forbidden vlan_name iptv  add 1-24
config igmp access_authentication ports 1-28 state disable

# MLD Snooping
disable mld_snooping
config mld_snooping all router_timeout 125
config mld_snooping all host_timeout 260
config mld_snooping data_driven_learning max_learned_entry 256
disable mld_snooping forward_mcrouter_only
config mld_snooping vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 state disable fast_done disable
config mld_snooping vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 state disable fast_done disable
config mld_snooping vlanid 4024 state enable fast_done disable
config mld_snooping data_driven_learning vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 state disable
config mld_snooping data_driven_learning vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 state disable
config mld_snooping data_driven_learning vlanid 4024 state disable
config mld_snooping querier vlanid 1,99,101-113,1001-1025,1051-1075,1101-1125,1151-1175,1201-1225,1251-1275 state disable version 2 last_listener_query_interval 1 max_response_time 10 query_interval 125 robustness_variable 2
config mld_snooping querier vlanid 1301-1325,1351-1375,1401-1425,1451-1475,1501-1525,1551-1575,1601-1625,3701-3713 state disable version 2 last_listener_query_interval 1 max_response_time 10 query_interval 125 robustness_variable 2
config mld_snooping querier vlanid 4024 state disable version 2 last_listener_query_interval 1 max_response_time 10 query_interval 125 robustness_variable 2
config mld_snooping mrouter_ports vlan_name iptv  add 25-28

# 8021X
disable 802.1x
config 802.1x auth_mode port_based
config 802.1x auth_protocol local
config 802.1x fwd_pdu system enable
config 802.1x capability ports 1-28 none
config 802.1x auth_parameter ports 1-28 port_control force_auth
config 802.1x auth_parameter ports 1-28 direction both quiet_period 60 tx_period 30 supp_timeout 30 server_timeout 30 max_req 2 reauth_period 3600 enable_reauth disable

# port mirroring

# trusted host
enable trusted_host
create trusted_host network 10.2.1.0/255.255.255.0
create trusted_host network 10.225.208.62/255.255.255.255
create trusted_host network 109.194.16.10/255.255.255.255
create trusted_host network 109.194.16.25/255.255.255.255
create trusted_host network 212.33.232.102/255.255.255.255
create trusted_host network 212.33.232.121/255.255.255.255
create trusted_host network 212.33.233.40/255.255.255.248

# SSL
disable ssl ciphersuite RSA-NULL-MD5 RSA-NULL-SHA1 RSA-DES-SHA1 RSA-3DES-SHA1 DH-RSA-DES-SHA1 DH-RSA-3DES-SHA1 RSA-EXP1024-DES-SHA1

# SSH
disable ssh
config ssh server authfail 2
config ssh server rekey 60min
config ssh server maxsession 1
config ssh server contimeout 120
config ssh authmode password disable
config ssh authmode publickey disable
config ssh authmode hostbased disable
config ssh algorithm 3DES enable
config ssh algorithm MD5 enable
config ssh algorithm SHA1 enable
config ssh algorithm RSA enable

# access authentication control
enable authen_policy
disable aaa_server_password_encryption
config authen parameter response_timeout 180
config authen parameter attempt 3
create authen server_host 109.194.16.37 protocol radius port 2030 key 9rsrLWBnOJaA timeout 5 retransmit 2 acct_port 2050
create authen server_host 109.194.16.38 protocol radius port 2030 key 9rsrLWBnOJaA timeout 5 retransmit 2 acct_port 2050
create authen server_group tacacs+
create authen server_group radius
config authen server_group radius add server_host 109.194.16.37 protocol radius
config authen server_group radius add server_host 109.194.16.38 protocol radius
create authen_login method_list_name default
config authen_login default method local    
create authen_login method_list_name RAD_LOCAL
config authen_login method_list_name RAD_LOCAL method radius local   
create authen_enable method_list_name default
config authen_enable default method none    
config authen application console login method_list_name default
config authen application telnet login method_list_name RAD_LOCAL
config authen application ssh login method_list_name RAD_LOCAL
config authen application http login method_list_name RAD_LOCAL
config authen application console enable method_list_name default
config authen application telnet enable method_list_name default
config authen application ssh enable method_list_name default
config authen application http enable method_list_name default
config admin local_enable *@&ufIvGYtdcuZbQHe21ZsWzgyasvKCxeN1

# PPPoE
config pppoe circuit_id_insertion state disable
config pppoe circuit_id_insertion ports 1-28 circuit_id ip state disable
config pppoe circuit_id_insertion ports 1-28 remote_id default

# safeguard_engine
config safeguard_engine state disable
disable command logging

# Discover Trap setting
disable vlan_trunk

# Ethernet OAM
config ethernet_oam ports 1-28 state disable mode active remote_loopback stop received_remote_loopback ignore
config ethernet_oam ports 1-28 critical_link_event dying_gasp notify_state enable
config ethernet_oam ports 1-28 critical_link_event critical_event notify_state enable
config ethernet_oam ports 1-28 link_monitor error_symbol threshold 1 window 1000 notify_state enable
config ethernet_oam ports 1-28 link_monitor error_frame threshold 1 window 1000 notify_state enable
config ethernet_oam ports 1-28 link_monitor error_frame_seconds threshold 1 window 60000 notify_state enable
config ethernet_oam ports 1-24 link_monitor error_frame_period threshold 1 window 148810 notify_state enable
config ethernet_oam ports 25-28 link_monitor error_frame_period threshold 1 window 1488100 notify_state enable

# DULD
config duld ports 1-28 state disable mode normal discovery_time 5
config duld recover_timer 60

# port security
config port_security 1-28 admin_state disable max_learning_addr 0 lock_address_mode DeleteOnTimeout 

# port
config ports 1-24 speed auto state enable flow_control disable mdix auto learning enable description "PPPOE-CLIENT"
config ports 25-26 medium_type copper speed auto state enable flow_control disable mdix auto learning enable description "UPSTREAM"
config ports 25-26 medium_type fiber speed auto state enable flow_control disable learning enable description ""
config ports 27-28 speed auto state enable flow_control disable learning enable description "UPSTREAM"
config ports 1-24 capability_advertised 10_half 10_full 100_half 100_full 
config ports 25-28 capability_advertised 10_half 10_full 100_half 100_full 1000_full 

# LACP
config link_aggregation state disable
config link_aggregation algorithm mac_source
config lacp port_priority 1-28 128 timeout long
config lacp_ports 1-28 mode active

# Limited IP Multicast
create mcast_filter_profile ipv4 profile_id 1 profile_name service
create mcast_filter_profile ipv4 profile_id 2 profile_name streaming
config mcast_filter_profile profile_id 1 add 224.0.0.2 224.0.0.2
config mcast_filter_profile profile_id 2 add 225.0.0.1 225.0.5.254
config mcast_filter_profile profile_id 2 add 225.0.55.0 225.0.59.255
config limited_multicast_addr ports 1-24 ipv4 add profile_id 1
config limited_multicast_addr ports 1-24 ipv4 add profile_id 2
config limited_multicast_addr ports 1-28 ipv4 access permit
config limited_multicast_addr ports 1-28 ipv6 access deny
config max_mcast_group ports 1-24 ipv4 max_group 15 action drop
config max_mcast_group ports 25-28 ipv4 max_group 256 action drop
config max_mcast_group ports 1-28 ipv6 max_group 1 action drop

# DoS Prevention
config dos_prevention dos_type land_attack action drop state disable
config dos_prevention dos_type blat_attack action drop state disable
config dos_prevention dos_type smurf_attack action drop state disable
config dos_prevention dos_type tcp_null_scan action drop state disable
config dos_prevention dos_type tcp_xmascan action drop state disable
config dos_prevention dos_type tcp_synfin action drop state disable
config dos_prevention dos_type tcp_syn_srcport_less_1024 action drop state disable
disable dos_prevention trap_log

# DDM
config ddm power_unit mw
config ddm ports 25-28 state disable
config ddm ports 25-28 shutdown none
config ddm ports 25-28 temperature_threshold high_alarm +95.000 low_alarm -25.000 high_warning +90.000 low_warning -20.000
config ddm ports 25-28 voltage_threshold high_alarm 3.80 low_alarm 2.80 high_warning 3.70 low_warning 2.90
config ddm ports 25-28 bias_current_threshold high_alarm 20.0 low_alarm 0.5 high_warning 18.0 low_warning 1.0
config ddm ports 25-28 tx_power_threshold high_alarm 1.5900 low_alarm 0.1599 high_warning 1.2599 low_warning 0.2000
config ddm ports 25-28 rx_power_threshold high_alarm 1.2599 low_alarm 0.0099 high_warning 1.0000 low_warning 0.0126

# Flood FDB
disable flood_fdb
config flood_fdb log enable trap enable

# L2 Protocol Tunnel
disable l2protocol_tunnel

# Accounting
create accounting method_list_name default
config accounting default method none    
config accounting service network state disable 
config accounting service shell state disable 
config accounting service system state disable 
config accounting service command administrator none 
config accounting service command operator none 
config accounting service command power_user none 
config accounting service command user none 
command-end
